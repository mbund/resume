---
import { Icon } from "astro-icon/components";

import Layout from "~/layouts/main.astro";
import Skill from "~/components/Skill.astro";

import {
  languages,
  getLanguage,
  skills,
  type SkillMeta,
  type Language,
} from "~/i18n";

export function getStaticPaths() {
  return [...languages].map((lang) => {
    return { params: { lang } };
  });
}

const lang = Astro.params.lang as Language;
const t = getLanguage(lang);
---

{["en"].includes(lang) && <style set:html="@page { size: Letter; }" />}
{["de"].includes(lang) && <style set:html="@page { size: A4; }" />}

<Layout
  title={t["meta.resume.title"]}
  description={t["meta.resume.description"]}
  image="https://mbund.dev/images/headshot.jpg"
>
  <div class="m-12">
    <div class="flex mb-3 justify-between">
      <section>
        <h1 class="text-3xl font-medium">{t["name"]}</h1>
      </section>

      <address class="flex not-italic">
        <div class="mr-4">
          <a
            href="https://openstreetmap.org/search?query=Columbus, Ohio"
            class="flex items-center justify-end"
          >
            <span class="text-base font-medium">Columbus, OH</span>
            <Icon name="mdi:map-marker" class="h-6 ml-1" />
          </a>
          <a href="mailto:mark@mbund.dev" class="flex items-center justify-end">
            <span class="text-base font-medium">mark@mbund.dev</span>
            <Icon name="mdi:email" class="h-6 ml-1" />
          </a>
        </div>
        <div>
          <a href="https://mbund.dev" class="flex items-center justify-end">
            <span class="text-base font-medium">mbund.dev</span>
            <Icon name="ph:globe" class="h-6 ml-1" />
          </a>
          <a
            href="https://github.com/mbund"
            class="flex items-center justify-end"
          >
            <span class="text-base font-medium">mbund</span>
            <Icon name="mdi:github" class="h-6 ml-1" />
          </a>
        </div>
      </address>
    </div>

    <div class="flex flex-row gap-3">
      <section class="basis-3/5">
        <div class="flex flex-col gap-2 mb-2">
          <h1 class="title">Personal Projects</h1>

          <div class="rounded border-2 flex flex-col p-2 gap-1">
            <div class="flex justify-between">
              <span class="flex items-center">
                <a
                  href="https://github.com/rhombusgg/rhombus"
                  class="flex items-center mr-1"
                >
                  <Icon name="ic:outline-bookmark-border" class="h-6 mr-1" />
                  <h2 class="text-base font-medium">rhombusgg/rhombus</h2>
                </a>
                <a class="text-gray-400" href="https://rhombus.gg">rhombus.gg</a
                >
              </span>
              <div class="flex items-center flex-row justify-end">
                <a href="https://typescriptlang.org" class="flex items-center">
                  <Icon name="logos:typescript-icon" class="h-5 mr-1" />
                  <span class="description">TypeScript</span>
                </a>
                <span class="ml-2"></span>
                <a href="https://svelte.dev" class="flex items-center">
                  <Icon name="devicon:svelte" class="h-5 mr-1" />
                  <span class="description">Svelte</span>
                </a>
              </div>
            </div>
            <p class="description">
              {t["personal-project.rhombus.description"]}
            </p>
          </div>

          <div class="rounded border-2 flex flex-col p-2 gap-1">
            <div class="flex justify-between">
              <a
                href="https://github.com/mbund/canvas-cli"
                class="flex items-center"
              >
                <Icon name="ic:outline-bookmark-border" class="h-6 mr-1" />
                <h2 class="text-base font-medium">mbund/canvas-cli</h2>
              </a>
              <div class="flex items-center flex-row justify-end">
                <a href="https://rust-lang.org" class="flex items-center">
                  <Icon name="logos:rust" class="h-5 mr-1" />
                  <span class="description">Rust</span>
                </a>
                <span class="ml-2"></span>
              </div>
            </div>
            <p class="description">
              {t["personal-project.canvas-cli.description"]}
            </p>
          </div>

          <div class="rounded border-2 flex flex-col p-2 gap-1">
            <div class="flex justify-between">
              <span class="flex items-center">
                <a
                  href="https://github.com/mbund/homelab"
                  class="flex items-center mr-1"
                >
                  <Icon name="ic:outline-bookmark-border" class="h-6 mr-1" />
                  <h2 class="text-base font-medium">mbund/homelab</h2>
                </a>
                <a class="text-gray-400" href="https://docs.mbund.org"
                  >docs.mbund.org</a
                >
              </span>
              <div class="flex items-center flex-row justify-end">
                <a href="https://kubernetes.io" class="flex items-center">
                  <Icon name="logos:kubernetes" class="h-5 mr-1" />
                  <span class="description">Kubernetes</span>
                </a>
              </div>
            </div>
            <p class="description">
              {t["personal-project.homelab.description"]}
            </p>
          </div>
        </div>

        <h1 class="title mb-2">Experience</h1>

        <ol class="relative border-l border-gray-200">
          <li class="mb-2 ml-6">
            <a href="https://kududyn.com" class="company">
              <img src="/images/kudu-dynamics.svg" />
            </a>
            <h2 class="flex items-center mb-1 justify-between">
              <a href="https://kududyn.com"
                >{t["experience.intern-kudu.header"]}</a
              >
              <div class="flex gap-2">
                {
                  [
                    skills.typescript,
                    skills.vscode,
                    skills.python,
                    skills.c,
                    skills.docker,
                  ].map((skill) => (
                    <Skill href={skill.url} icon={skill.icon}>
                      {skill.name}
                    </Skill>
                  ))
                }
              </div>
            </h2>
            <div class="flex gap-2">
              <span class="tag">Intern</span>
              <span class="tag">Summer 2023</span>
            </div>
            <p class="description">
              {t["experience.intern-kudu.description"]}
            </p>
          </li>
          <li class="mb-2 ml-6">
            <a href="https://osucyber.club" class="company">
              <img src="/images/osucyber-logo.svg" />
            </a>
            <h2 class="flex items-center mb-1 justify-between">
              <a href="https://osucyber.club">
                {t["experience.cyber-club.header"]}
              </a>
              <div class="flex gap-2">
                {
                  [skills.aws, skills.terraform, skills.docker].map((skill) => (
                    <Skill href={skill.url} icon={skill.icon}>
                      {skill.name}
                    </Skill>
                  ))
                }
              </div>
            </h2>
            <div class="flex gap-2">
              <span class="tag">President 2024</span>
              <span class="tag">Vice President 2023</span>
            </div>
            <p class="description">
              {t["experience.cyber-club.description"]}
            </p>
          </li>
          <li class="mb-2 ml-6">
            <a href="https://insigma.de" class="company">
              <img src="/images/insigma-logo-m.png" />
            </a>
            <h2 class="mb-1 flex items-center justify-between">
              <a href="https://insigma.de"
                >{t["experience.internship-insigma.header"]}</a
              >
              <div class="flex gap-2">
                {
                  [skills.csharp, skills.css].map((skill) => (
                    <Skill href={skill.url} icon={skill.icon}>
                      {skill.name}
                    </Skill>
                  ))
                }
              </div>
            </h2>
            <div class="flex gap-2">
              <span class="tag">Intern</span>
              <span class="tag">Remote</span>
              <span class="tag">Summer 2021</span>
            </div>
            <p class="description">
              {t["experience.internship-insigma.description"]}
            </p>
          </li>
        </ol>
      </section>

      <section class="basis-2/5">
        <div class="mb-3">
          <h1 class="title">
            {t["objective.title"]}
          </h1>
          <p class="description">
            {t["objective.text"]}
          </p>
        </div>

        <div class="mb-3">
          <h1 class="title">
            {t["interests.title"]}
          </h1>
          <p class="description">
            {t["interests.description"]}
          </p>
        </div>

        <div class="mb-3">
          <h1 class="title">
            {t["skills.title"]}
          </h1>

          <div class="mb-2">
            <h2 class="uppercase font-mono">Languages/Frameworks/Libraries</h2>
            <div class="flex flex-wrap gap-1">
              {
                [
                  skills.typescript,
                  skills.react,
                  skills.nextjs,
                  skills.svelte,
                  skills.astro,
                  skills.tailwind,
                  skills.css,
                  skills.rust,
                  skills.zig,
                  skills.c,
                  skills.cpp,
                  skills.python,
                  skills.csharp,
                  skills.bash,
                ].map((skill: SkillMeta) => (
                  <Skill href={skill.url} icon={skill.icon}>
                    {skill.name}
                  </Skill>
                ))
              }
            </div>
          </div>
          <div class="mb-2">
            <h2 class="uppercase font-mono">
              {t["skills.infrastructure.title"]}
            </h2>
            <div class="flex flex-wrap gap-1">
              {
                [
                  skills.debian,
                  skills.ubuntu,
                  skills.fedora,
                  skills.nixos,
                  skills.aws,
                  skills.terraform,
                  skills.kubernetes,
                  skills.github_actions,
                ].map((skill) => (
                  <Skill href={skill.url} icon={skill.icon}>
                    {skill.name}
                  </Skill>
                ))
              }
            </div>
          </div>
          <div>
            <h2 class="uppercase font-mono">{t["skills.tools.title"]}</h2>
            <div class="flex flex-wrap gap-1">
              {
                [skills.vscode, skills.vim, skills.docker, skills.git].map(
                  (skill) => (
                    <Skill href={skill.url} icon={skill.icon}>
                      {skill.name}
                    </Skill>
                  )
                )
              }
            </div>
          </div>
        </div>

        <div class="mb-3">
          <h1 class="title">Authored CTF Challenges</h1>
          <div>
            <p class="italic text-xs mb-2">
              A Capture the Flag competition, or CTF for short, is a type of
              cybersecurity competition where players compete in solving as many
              challenges as possible, usually within a 48 hour time period.
              Challenges are created with intentional vulnerabilities in mind
              which players must find and exploit. These are some of the
              challenges I've created.
            </p>
            <ul class="flex flex-col gap-2">
              <li class="rounded border-2 flex flex-col p-2 gap-1 font-medium">
                <div class="flex justify-between">
                  <a
                    href="https://github.com/cscosu/buckeyectf-2023-public/tree/master/misc-smederij"
                    class="flex items-center mr-1"
                  >
                    <Icon name="mdi:sword-cross" class="h-6 mr-1" />
                    <h2 class="text-base font-medium">smederij</h2>
                  </a>
                  <div class="flex gap-2">
                    {
                      [skills.github_actions].map((skill) => (
                        <Skill href={skill.url} icon={skill.icon}>
                          {skill.name}
                        </Skill>
                      ))
                    }
                  </div>
                </div>
                <p class="description">
                  By chaining together multiple seemingly unrelated and
                  innocuous GitHub Actions in a public respository the player is
                  able to leak a secret action variable while only making pull
                  requests.
                </p>
              </li>
              <li class="rounded border-2 flex flex-col p-2 gap-1 font-medium">
                <div class="flex justify-between">
                  <a
                    href="https://github.com/cscosu/buckeyectf-2023-public/tree/master/web-font-review"
                    class="flex items-center mr-1"
                  >
                    <Icon name="mdi:sword-cross" class="h-6 mr-1" />
                    <h2 class="text-base font-medium">font-review</h2>
                  </a>
                  <div class="flex gap-2">
                    {
                      [skills.python].map((skill) => (
                        <Skill href={skill.url} icon={skill.icon}>
                          {skill.name}
                        </Skill>
                      ))
                    }
                  </div>
                </div>
                <p class="description">
                  An automated system "reviews" user uploaded fonts by checking
                  whether or not they break the design of a unknown/secret page
                  by causing an overflow. The player must dynamically generate
                  fonts with variable length ligatures and leak the secret page
                  one character at a time.
                </p>
              </li>
            </ul>
          </div>
        </div>

        <div class="mb-3">
          <h1 class="title">
            {t["languages.title"]}
          </h1>
          <p class="description">
            {t["languages.description"]}
          </p>
        </div>

        <div class="mb-3">
          <h1 class="title">Socials</h1>
          <p class="description">
            <a href="https://github.com/mbund" class="flex items-center">
              <Icon name="mdi:github" class="h-6 mr-1" />
              <span class="font-mono">github.com/mbund</span>
            </a>
            <a
              href="https://linkedin.com/in/mark-bundschuh"
              class="flex items-center"
            >
              <Icon name="mdi:linkedin" class="h-6 mr-1" />
              <span class="font-mono">linkedin.com/in/mark-bundschuh</span>
            </a>
          </p>
        </div>

        <div class="mb-3">
          <h1 class="title">
            {t["education.title"]}
          </h1>
          <p class="description">{t["education.description"]}</p>
        </div>
      </section>
    </div>
  </div>
</Layout>

<style>
  @page {
    orientation: portait;
    margin: 0;
  }

  .title {
    @apply text-lg uppercase text-blue-500 font-mono;
  }

  .description {
    @apply text-sm;
  }

  .tag {
    @apply bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded;
  }

  .company {
    @apply absolute flex items-center justify-center w-6 h-6 -left-3 bg-white ring-8 ring-white;
  }

  html {
    font-size: 13px;
  }

  @media print {
    * {
      print-color-adjust: exact;
    }
  }
</style>
