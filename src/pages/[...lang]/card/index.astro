---
import { languages, defaultLanguage } from "~/i18n";

export function getStaticPaths() {
  return [...languages, undefined].map((lang) => {
    return { params: { lang } };
  });
}

const path = new URL(Astro.request.url).pathname;

const url = languages.some((x) => path.startsWith(`/${x}`))
  ? `${path}/front`
  : `/${defaultLanguage}/card/front`;
---

<head>
  <script>
    window.location.pathname += `/front`;
  </script>
  <meta http-equiv="refresh" content=`0;url=${url}` />
</head>
